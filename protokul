import streamlit as st
import google.generative_ai as genai

st.set_page_config(page_title="M贸j Asystent AI", page_icon="")

st.title("Cze Olek! ")
st.write("Jestem Twoim asystentem. Pytaj o co chcesz.")

# Tu wpisujemy klucz, 偶eby byo bezpiecznie i wygodnie
api_key = st.text_input("Wklej tutaj sw贸j klucz API z Google:", type="password")

if api_key:
    try:
        genai.configure(api_key=api_key)
        model = genai.GenerativeModel('gemini-1.5-flash')

        # Pole do pisania
        pytanie = st.chat_input("Napisz wiadomo...")

        if pytanie:
            # Pokazujemy co napisae
            st.chat_message("user").write(pytanie)
            
            # AI myli i odpisuje
            with st.spinner('Myl...'):
                response = model.generate_content(pytanie)
                st.chat_message("ai").write(response.text)
    except Exception as e:
        st.error(f"Co poszo nie tak z kluczem: {e}")
else:
    st.info(" Najpierw wklej sw贸j klucz API na g贸rze, 偶ebymy mogli pogada!")
